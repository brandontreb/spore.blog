<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta content="|Zero Cool|" name="author">

  <title>Brandon Trebitowski
		- iPhone Programming Tutorial: Creating An Image Gallery Like Over &amp;#8211; Part 2</title>

  <link href="/assets/css/style.css?1" rel="stylesheet">
  <link href="/assets/css/highlight.css?1" rel="stylesheet">
  <link href="/assets/css/alpine.css?1" rel="stylesheet">
  <style>

.site-title {
	display: inline-block;
	font-size: 14px;
	font-weight: 500;
	line-height: 1.35;
	padding-left: 5px;
	margin-top: 0px;
	margin-bottom: 5px;
	padding-top: 5px;
	padding-bottom: 10px;
}

nav.main-nav a.cta {
	background: #ffffff;
	color: #f29c38;
	padding: 6px 14px;
	border: 2px solid #f29c38;
	border-radius: 20px;
	white-space: nowrap;
	box-shadow: none;
}

nav.main-nav a.cta:hover {
	background: #fffee4;
	color: #f29c38;
	margin-left: 12px;
}

</style>

  <link rel="stylesheet" href="/custom.css?1">

	<link rel="shortcut icon" href="https://brandon_swoop.ngrok.io/favicon.png" type="image/x-icon" />
    
    
      <link href="https://brandon_swoop.ngrok.io/podcast.xml" rel="alternate" type="application/rss+xml" title="Podcast" />
      <link rel="alternate" type="application/json" title="Brandon Trebitowski" href="https://brandon_swoop.ngrok.io/feed.json" />
      <link rel="EditURI" type="application/rsd+xml" href="https://brandon_swoop.ngrok.io/rsd.xml" />
    

	
	<link rel="me" href="https://micro.blog/brandontreb" />
		
	
	<link rel="me" href="https://twitter.com/brandontreb" />
	
	
	<link rel="me" href="https://github.com/brandontreb" />
	
	
	
	<link rel="authorization_endpoint" href="https://indieauth.com/auth" />
	
	
	<link rel="token_endpoint" href="https://tokens.indieauth.com/token" />
	
	
	<link rel="micropub" href="https://brandon_swoop.ngrok.io/micropub" />
	
	
	<link rel="microsub" href="https://micro.blog/microsub/" />
	
	
	<link rel="webmention" href="https://webmention.io/brandon_swoop.ngrok.io/webmention" />
	
	
    
    
	
	
		<script id="script_conversation" data-webmention_url="https://webmention.io/brandon_swoop.ngrok.io/webmention" src="/conversation.js"></script>
	
</head>

<body>
  <nav class="main-nav">

	<div class="site-title">
		<img src="https://brandon_swoop.ngrok.io/avatar.png" width="25" height="25" class="site-image">		
		<a href="/">Brandon Trebitowski</a>
	</div>

	<div class="site-menus">

	

	<a class="normal" href="/"> <span class="arrow">â†</span> Home</a>

	

	
		<a href="/archive/">Archive</a>
	
		<a href="/replies/">Replies</a>
	
		<a href="/photos/">Photos</a>
	

	

	</div>
</nav>



  <section id="wrapper"  >
	
<article class="h-entry post">
  <header>
	
    <h1 class="p-name">iPhone Programming Tutorial: Creating An Image Gallery Like Over &amp;#8211; Part 2</h1>
    
    <h2 class="headline">
      <time class="dt-published" datetime="2013-08-15 00:00:00 &#43;0000">
        <a class="u-url dates" href="https://brandon_swoop.ngrok.io/2013/08/15/screen-shot-2013-07-25-at-12.51.25-pm-300x221.png/">Aug 15, 2013</a>
      </time>
    </h2>
  </header>
  <section class="e-content post-body">
      <p><a href="/uploads/2013/Screen-Shot-2013-08-09-at-8.36.42-PM.png"><img class="alignright" alt="Screen Shot 2013-08-09 at 8.36.42 PM" src="/uploads/2013/Screen-Shot-2013-08-09-at-8.36.42-PM.png" width="225" height="365" /></a></p>
<p>Â </p>
<p>Welcome to the second part of my tutorial series â€œ<strong>Creating An Image Gallery Like Overâ€.</strong> Â In this part of the tutorial, you will learn how to actually display the photos in the UICollectionView as well as give the user the ability to take photos with their camera.</p>
<p>If you havenâ€™t already done so, please go back and<a href="http://brandontreb.com/iphone-programming-tutorial-creating-an-image-gallery-like-over-part-1"> complete part 1</a>.</p>
<h3 id="1-custom-uicollectionviewcell">1. Custom UICollectionViewCell</h3>
<p>Start by creating a new subclass ofÂ <strong>UICollectionViewCell</strong>Â and naming itÂ **PhotoCell. Â **Now, open up PhotoCell.h and add the following code:</p>
<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="objc" style="font-family:monospace;"><span style="color: #6e371a;">#import &lt;AssetsLibrary/AssetsLibrary.h&gt;</span>
&nbsp;
<span style="color: #a61390;">@interface</span> PhotoCell <span style="color: #002200;">:</span> UICollectionViewCell
<span style="color: #a61390;">@property</span><span style="color: #002200;">&#40;</span>nonatomic, strong<span style="color: #002200;">&#41;</span> ALAsset <span style="color: #002200;">*</span>asset;
<span style="color: #a61390;">@end</span></pre>
      </td>
    </tr>
  </table>
</div>
<p>Now, open PhotoCell.m and add the following code:</p>
<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="objc" style="font-family:monospace;"><span style="color: #6e371a;">#import "PhotoCell.h"</span>
&nbsp;
<span style="color: #a61390;">@interface</span> PhotoCell <span style="color: #002200;">&#40;</span><span style="color: #002200;">&#41;</span>
<span style="color: #11740a; font-style: italic;">// 1</span>
<span style="color: #a61390;">@property</span><span style="color: #002200;">&#40;</span>nonatomic, weak<span style="color: #002200;">&#41;</span> IBOutlet UIImageView <span style="color: #002200;">*</span>photoImageView;
<span style="color: #a61390;">@end</span>
&nbsp;
<span style="color: #a61390;">@implementation</span> PhotoCell
<span style="color: #002200;">-</span> <span style="color: #002200;">&#40;</span><span style="color: #a61390;">void</span><span style="color: #002200;">&#41;</span> setAsset<span style="color: #002200;">:</span><span style="color: #002200;">&#40;</span>ALAsset <span style="color: #002200;">*</span><span style="color: #002200;">&#41;</span>asset
<span style="color: #002200;">&#123;</span>
    <span style="color: #11740a; font-style: italic;">// 2</span>
    _asset <span style="color: #002200;">=</span> asset;
    self.photoImageView.image <span style="color: #002200;">=</span> <span style="color: #002200;">&#91;</span>UIImage imageWithCGImage<span style="color: #002200;">:</span><span style="color: #002200;">&#91;</span>asset thumbnail<span style="color: #002200;">&#93;</span><span style="color: #002200;">&#93;</span>;
<span style="color: #002200;">&#125;</span>
<span style="color: #a61390;">@end</span></pre>
      </td>
    </tr>
  </table>
</div>
<ol>
<li>This is anÂ **IBOutletÂ **to aÂ <strong>UIImageView</strong>Â that we will create inside of the Storyboard</li>
<li>We overwrite the setter method for the asset in order to convert the assetâ€™s thumbnail into a UIImage and set it to the contents of the UIImageView</li>
</ol>
<p>Now that we have the custom cell created, we need to hook it up and create the UIImageView inside of Storyboard. Â OpenÂ **MainStoryboard.storyboardÂ **and click on the defaultÂ <strong>UICollectionViewCell</strong>Â inside of yourÂ <strong>UICollectionView.</strong></p>
<p>It might be tricky to see the cell as it has a white background and blends in, but itâ€™s there.</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-24-at-6.43.38-PM.png"><img alt="Screen Shot 2013-07-24 at 6.43.38 PM" src="/uploads/2013/Screen-Shot-2013-07-24-at-6.43.38-PM-300x281.png" width="300" height="281" /></a></p>
<p>Now, click on theÂ <strong>Identity Inspector</strong>Â from the right side bar and change the class toÂ <strong>PhotoCell.</strong>Â Â This will inform interface builder that this object is of the type PhotoCell and let us hook up the photoImageView outlet.</p>
<p><a href="/uploads/2013/Screen-Shot-2013-07-24-at-6.46.35-PM.png"><img alt="Screen Shot 2013-07-24 at 6.46.35 PM" src="/uploads/2013/Screen-Shot-2013-07-24-at-6.46.35-PM.png" width="260" height="70" /></a></p>
<p>Next, open the size inspector, change the size toÂ **Custom,Â **the width toÂ **104Â **and the height toÂ <strong>104.</strong>Â Â This will give us nice sized images, with a good amount of padding between them.</p>
<p><a href="/uploads/2013/Screen-Shot-2013-07-24-at-6.49.51-PM.png"><img alt="Screen Shot 2013-07-24 at 6.49.51 PM" src="/uploads/2013/Screen-Shot-2013-07-24-at-6.49.51-PM.png" width="260" height="105" /></a></p>
<p>TheÂ <strong>UICollectionView</strong>Â will overwrite these sizes, so we need to change it in one other location. Â To ensure that the cells stay the correct size, click on theÂ <strong>Collection View</strong>Â in left side bar and open itâ€™sÂ <strong>Size Inspector</strong>. Â Then set theÂ <strong>Cell Size</strong>Â width and height to 104.</p>
<p><a href="/uploads/2013/Screen-Shot-2013-07-24-at-7.07.14-PM.png"><img alt="Screen Shot 2013-07-24 at 7.07.14 PM" src="/uploads/2013/Screen-Shot-2013-07-24-at-7.07.14-PM.png" width="260" height="81" /></a></p>
<p>The final step here is to drag aÂ <strong>UIImageView</strong>Â on to your cell (scaling it to fit the entire cell size), and hook up theÂ <strong>IBOutlet</strong>Â to the photoImageView. Do this by control-click and dragging from Photo Cell to the ImageView and selecting <strong>photoImageView</strong>.</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-24-at-6.52.32-PM.png"><img alt="Screen Shot 2013-07-24 at 6.52.32 PM" src="/uploads/2013/Screen-Shot-2013-07-24-at-6.52.32-PM-300x147.png" width="300" height="147" /></a></p>
<p>If you build and run at this stage, nothing will be different. Â Thatâ€™s because we still need to tell the ViewController class about our newÂ <strong>PhotoCell</strong>. Â OpenÂ **ViewController.mÂ **and importÂ <strong>PhotoCell.h</strong>.</p>
<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="objc" style="font-family:monospace;"><span style="color: #6e371a;">#import "PhotoCell.h"</span></pre>
      </td>
    </tr>
  </table>
</div>
<p>Now, head down to theÂ <strong>collectionView:cellForItemAtIndexPath</strong>Â method and replace the contents of it with the following code:</p>
<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="objc" style="font-family:monospace;"><span style="color: #002200;">-</span> <span style="color: #002200;">&#40;</span>UICollectionViewCell <span style="color: #002200;">*</span><span style="color: #002200;">&#41;</span> collectionView<span style="color: #002200;">:</span><span style="color: #002200;">&#40;</span>UICollectionView <span style="color: #002200;">*</span><span style="color: #002200;">&#41;</span>collectionView cellForItemAtIndexPath<span style="color: #002200;">:</span><span style="color: #002200;">&#40;</span><span style="color: #400080;">NSIndexPath</span> <span style="color: #002200;">*</span><span style="color: #002200;">&#41;</span>indexPath
<span style="color: #002200;">&#123;</span>
    PhotoCell <span style="color: #002200;">*</span>cell <span style="color: #002200;">=</span> <span style="color: #002200;">&#40;</span>PhotoCell <span style="color: #002200;">*</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#91;</span>collectionView dequeueReusableCellWithReuseIdentifier<span style="color: #002200;">:</span><span style="color: #bf1d1a;">@</span><span style="color: #bf1d1a;">"PhotoCell"</span> forIndexPath<span style="color: #002200;">:</span>indexPath<span style="color: #002200;">&#93;</span>;
&nbsp;
    ALAsset <span style="color: #002200;">*</span>asset <span style="color: #002200;">=</span> self.assets<span style="color: #002200;">&#91;</span>indexPath.row<span style="color: #002200;">&#93;</span>;
    cell.asset <span style="color: #002200;">=</span> asset;
    cell.backgroundColor <span style="color: #002200;">=</span> <span style="color: #002200;">&#91;</span>UIColor redColor<span style="color: #002200;">&#93;</span>;
&nbsp;
    <span style="color: #a61390;">return</span> cell;
<span style="color: #002200;">&#125;</span></pre>
      </td>
    </tr>
  </table>
</div>
<p>Whatâ€™s changed here is, we are now telling theÂ <strong>UICollectionView</strong>Â that the cell itâ€™s returning is of the typeÂ <strong>PhotoCell</strong>. Also, we are fetching theÂ <strong>ALAsset</strong>Â out of our array at each index and sending it to the cell so that it can display itâ€™s thumbnail.</p>
<p><strong>Build And Run!</strong></p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-24-at-7.10.39-PM.png"><img alt="Screen Shot 2013-07-24 at 7.10.39 PM" src="/uploads/2013/Screen-Shot-2013-07-24-at-7.10.39-PM-184x300.png" width="184" height="300" /></a></p>
<p>Whoohoo**!Â **You should now see your photos populating theÂ **UICollectionView. Congratulations!Â </p></p>
<p></strong>While, this is definitely cool, you might now be wondering â€œhow do I select a photo?â€. Â Great question, and here is the solution.</p>
<h3 id="2-selecting-photos">2. Selecting Photos</h3>
<p>Now that you have all of the groundwork in place, selecting photos from the collection could not be easier. Â Open upÂ <strong>ViewController.m</strong>Â and replace theÂ **collectionView:didSelectItemAtIndexPathÂ **method with the following code:</p>
<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="objc" style="font-family:monospace;"><span style="color: #002200;">-</span> <span style="color: #002200;">&#40;</span><span style="color: #a61390;">void</span><span style="color: #002200;">&#41;</span> collectionView<span style="color: #002200;">:</span><span style="color: #002200;">&#40;</span>UICollectionView <span style="color: #002200;">*</span><span style="color: #002200;">&#41;</span>collectionView didSelectItemAtIndexPath<span style="color: #002200;">:</span><span style="color: #002200;">&#40;</span><span style="color: #400080;">NSIndexPath</span> <span style="color: #002200;">*</span><span style="color: #002200;">&#41;</span>indexPath
<span style="color: #002200;">&#123;</span>
    ALAsset <span style="color: #002200;">*</span>asset <span style="color: #002200;">=</span> self.assets<span style="color: #002200;">&#91;</span>indexPath.row<span style="color: #002200;">&#93;</span>;
    ALAssetRepresentation <span style="color: #002200;">*</span>defaultRep <span style="color: #002200;">=</span> <span style="color: #002200;">&#91;</span>asset defaultRepresentation<span style="color: #002200;">&#93;</span>;
    UIImage <span style="color: #002200;">*</span>image <span style="color: #002200;">=</span> <span style="color: #002200;">&#91;</span>UIImage imageWithCGImage<span style="color: #002200;">:</span><span style="color: #002200;">&#91;</span>defaultRep fullScreenImage<span style="color: #002200;">&#93;</span> scale<span style="color: #002200;">:</span><span style="color: #002200;">&#91;</span>defaultRep scale<span style="color: #002200;">&#93;</span> orientation<span style="color: #002200;">:</span><span style="color: #2400d9;"></span><span style="color: #002200;">&#93;</span>;
    <span style="color: #11740a; font-style: italic;">// Do something with the image</span>
<span style="color: #002200;">&#125;</span></pre>
      </td>
    </tr>
  </table>
</div>
<p>This will get the selected asset and convert it to a UIImage. You are now free to use the UIImage how you want. Perhaps you create a protocol for this class and make a callback to a delegate OR maybe you add this to a UINavigationController stack and push a new view controller on to the stack containing this image. The sky is the limit!</p>
<p>If you look at the Over app and back to your image gallery that you just created, you will notice something is still missing. Â What if the user wants to take a photo or access other albums? Â This is where Over adds a bar across the top of the interface with 2 buttons that fall back to the â€œdefaultâ€ style of fetching images if the user wants to take a photo or access a different photo album. Â Letâ€™s build this out now.</p>
<h3 id="3-building-the-interface-to-take-photos-and-access-albums">3. Building The Interface To Take Photos And Access Albums</h3>
<p>Start by setting up theÂ <strong>IBActions</strong>Â for theses buttons. Â OpenÂ <strong>ViewController.m</strong>Â and add the following empty methods:</p>
<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="objc" style="font-family:monospace;"><span style="color: #6e371a;">#pragma mark - Actions</span>
&nbsp;
<span style="color: #002200;">-</span> <span style="color: #002200;">&#40;</span>IBAction<span style="color: #002200;">&#41;</span>takePhotoButtonTapped<span style="color: #002200;">:</span><span style="color: #002200;">&#40;</span><span style="color: #a61390;">id</span><span style="color: #002200;">&#41;</span>sender
<span style="color: #002200;">&#123;</span>
&nbsp;
<span style="color: #002200;">&#125;</span>
&nbsp;
<span style="color: #002200;">-</span> <span style="color: #002200;">&#40;</span>IBAction<span style="color: #002200;">&#41;</span>albumsButtonTapped<span style="color: #002200;">:</span><span style="color: #002200;">&#40;</span><span style="color: #a61390;">id</span><span style="color: #002200;">&#41;</span>sender
<span style="color: #002200;">&#123;</span>
&nbsp;
<span style="color: #002200;">&#125;</span></pre>
      </td>
    </tr>
  </table>
</div>
<p>We donâ€™t need to add the code yet since we still need to build the UI and hook up theÂ <strong>IBOutlets</strong>. Now openÂ **MainStoryboard.storyboardÂ **and drag aÂ **UIViewÂ **right on top of yourÂ <strong>UIView.</strong></p>
<p>One issue you might run in to here is the view will want to become a subview of the collection view. Â To combat this, drag the view outside of the collection view inside the left bar so the hierarchy will look like this:</p>
<p><a href="/uploads/2013/Screen-Shot-2013-07-25-at-12.35.06-PM.png"><img alt="Screen Shot 2013-07-25 at 12.35.06 PM" src="/uploads/2013/Screen-Shot-2013-07-25-at-12.35.06-PM.png" width="265" height="162" /></a></p>
<p>Â </p>
<p>One other â€œgotchaâ€ is, you must ensure that the view is positioned <strong>below</strong> the collection view in this list, otherwise it wonâ€™t show above it on screen.</p>
<p>Now, letâ€™s manually size and position the view as Interface Building will make things hard on us if we want to position it over our collection view.</p>
<p>Select the view and open theÂ <strong>Size Inspector.</strong>Â Set the values as follows:</p>
<p><a href="/uploads/2013/Screen-Shot-2013-07-25-at-12.44.23-PM.png"><img alt="Screen Shot 2013-07-25 at 12.44.23 PM" src="/uploads/2013/Screen-Shot-2013-07-25-at-12.44.23-PM.png" width="260" height="168" /></a></p>
<p>Â </p>
<p>Again, remember this positioning is optimized for the iPhone 5. So make sure you are testing with that simulator or you wonâ€™t see this bar.</p>
<p>After this, the bar still wonâ€™t be visible inside of Interface Builder. Â We need to set the background color to black with some transparency. Â Open theÂ <strong>Attributes Inspector</strong>Â and click on the background color. Â Then set the color to black with 80% opacity:</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-25-at-12.40.13-PM.png"><img alt="Screen Shot 2013-07-25 at 12.40.13 PM" src="/uploads/2013/Screen-Shot-2013-07-25-at-12.40.13-PM-177x300.png" width="177" height="300" /></a></p>
<p>Â </p>
<p>You should now see the bar positioned on the screen like this:</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-25-at-12.41.54-PM.png"><img alt="Screen Shot 2013-07-25 at 12.41.54 PM" src="/uploads/2013/Screen-Shot-2013-07-25-at-12.41.54-PM-154x300.png" width="154" height="300" /></a></p>
<p>Â </p>
<p>Now drag aÂ **UIButtonÂ **on to the view you just created. There are a few things that must be done to style the button:</p>
<ol>
<li>Position it at 0,0</li>
<li>Set the width to 160px and the height toÂ 70x</li>
<li>Change the type to custom</li>
<li>Change the text to â€œTake Photoâ€</li>
<li>Change the font to â€œHelvetica Neue Condensed Blackâ€ size 20</li>
<li>Set the text color to white</li>
</ol>
<p>When you have completed these steps, the button should look like this:</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-25-at-12.47.26-PM.png"><img alt="Screen Shot 2013-07-25 at 12.47.26 PM" src="/uploads/2013/Screen-Shot-2013-07-25-at-12.47.26-PM-300x213.png" width="300" height="213" /></a></p>
<p>Â </p>
<p>Now, hook up theÂ <strong>IBActionÂ <strong>by opening theÂ <strong>Connections Inspector</strong>Â and dragging fromÂ <strong>Touch Up Inside</strong>Â to theÂ <strong>View Controller</strong>Â object and selecting t</strong>akePhotoButtonTapped:</strong></p>
<p>Finally, duplicate this button (copy and paste), rename the title to â€œAlbumsâ€, move it next to the â€œTake Photoâ€ button and hook itsÂ <strong>Touch Up Inside</strong>Â toÂ <strong>albumsButtonTapped:</strong></p>
<p>The final Interface should look like this:</p>
<p><a href="http://brandontreb.com/wp-content/uploads/2013/07/Screen-Shot-2013-07-25-at-12.51.25-PM.png"><img alt="Screen Shot 2013-07-25 at 12.51.25 PM" src="/uploads/2013/Screen-Shot-2013-07-25-at-12.51.25-PM-300x221.png" width="300" height="221" /></a></p>
<p>Â </p>
<p>Go ahead and do aÂ <strong>Build and Run</strong>Â and this stage and marvel at your interface development prowess!</p>
<h3 id="4-actually-taking-photos-and-accessing-albums">4. Actually Taking Photos And Accessing Albums</h3>
<p>The final step for this tutorial is to implement the code to bring up the camera as well as bring up the photo albums. Â Letâ€™s start with the camera. Â OpenÂ <strong>ViewController.m</strong>Â and add the following code to theÂ <strong>takePhotosButtonTapped:</strong>Â method:</p>
<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="objc" style="font-family:monospace;"><span style="color: #002200;">-</span> <span style="color: #002200;">&#40;</span>IBAction<span style="color: #002200;">&#41;</span>takePhotoButtonTapped<span style="color: #002200;">:</span><span style="color: #002200;">&#40;</span><span style="color: #a61390;">id</span><span style="color: #002200;">&#41;</span>sender
<span style="color: #002200;">&#123;</span>
    <span style="color: #a61390;">if</span> <span style="color: #002200;">&#40;</span><span style="color: #002200;">&#40;</span><span style="color: #002200;">&#91;</span>UIImagePickerController isSourceTypeAvailable<span style="color: #002200;">:</span>
          UIImagePickerControllerSourceTypeCamera<span style="color: #002200;">&#93;</span> <span style="color: #002200;">==</span> <span style="color: #a61390;">NO</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span>
        <span style="color: #a61390;">return</span>; <span style="color: #11740a; font-style: italic;">// 1</span>
&nbsp;
    <span style="color: #11740a; font-style: italic;">// 2</span>
    UIImagePickerController <span style="color: #002200;">*</span>mediaUI <span style="color: #002200;">=</span> <span style="color: #002200;">&#91;</span><span style="color: #002200;">&#91;</span>UIImagePickerController alloc<span style="color: #002200;">&#93;</span> init<span style="color: #002200;">&#93;</span>;
    mediaUI.sourceType <span style="color: #002200;">=</span> UIImagePickerControllerSourceTypeCamera;
    mediaUI.allowsEditing <span style="color: #002200;">=</span> <span style="color: #a61390;">NO</span>;
    mediaUI.delegate <span style="color: #002200;">=</span> self;
    <span style="color: #11740a; font-style: italic;">// 3</span>
    <span style="color: #002200;">&#91;</span>self presentViewController<span style="color: #002200;">:</span>mediaUI animated<span style="color: #002200;">:</span><span style="color: #a61390;">YES</span> completion<span style="color: #002200;">:</span><span style="color: #a61390;">nil</span><span style="color: #002200;">&#93;</span>;
<span style="color: #002200;">&#125;</span></pre>
      </td>
    </tr>
  </table>
</div>
<ol>
<li>Makes sure that the photo library is available. Â If the user declines photo access, this will be the case.</li>
<li>Create theÂ <strong>UIImagePickerController</strong>Â and set its source type toÂ <strong>UIImagePickerControllerSourceTypeCamera</strong>. Â This lets the media picker know to use the camera and not the image library.</li>
<li>Finally, present the view controller modally</li>
</ol>
<p>The method to bring up the photo albums is almost identical to the method above. Â Add the following code to theÂ <strong>albumsButtonTapped:</strong>Â method.</p>
<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="objc" style="font-family:monospace;"><span style="color: #002200;">-</span> <span style="color: #002200;">&#40;</span>IBAction<span style="color: #002200;">&#41;</span>albumsButtonTapped<span style="color: #002200;">:</span><span style="color: #002200;">&#40;</span><span style="color: #a61390;">id</span><span style="color: #002200;">&#41;</span>sender
<span style="color: #002200;">&#123;</span>
    <span style="color: #a61390;">if</span> <span style="color: #002200;">&#40;</span><span style="color: #002200;">&#40;</span><span style="color: #002200;">&#91;</span>UIImagePickerController isSourceTypeAvailable<span style="color: #002200;">:</span>
          UIImagePickerControllerSourceTypePhotoLibrary<span style="color: #002200;">&#93;</span> <span style="color: #002200;">==</span> <span style="color: #a61390;">NO</span><span style="color: #002200;">&#41;</span><span style="color: #002200;">&#41;</span>
        <span style="color: #a61390;">return</span>;
&nbsp;
    UIImagePickerController <span style="color: #002200;">*</span>mediaUI <span style="color: #002200;">=</span> <span style="color: #002200;">&#91;</span><span style="color: #002200;">&#91;</span>UIImagePickerController alloc<span style="color: #002200;">&#93;</span> init<span style="color: #002200;">&#93;</span>;
    mediaUI.sourceType <span style="color: #002200;">=</span> UIImagePickerControllerSourceTypePhotoLibrary;    
    mediaUI.allowsEditing <span style="color: #002200;">=</span> <span style="color: #a61390;">NO</span>;
    mediaUI.delegate <span style="color: #002200;">=</span> self;
    <span style="color: #002200;">&#91;</span>self presentViewController<span style="color: #002200;">:</span>mediaUI animated<span style="color: #002200;">:</span><span style="color: #a61390;">YES</span> completion<span style="color: #002200;">:</span><span style="color: #a61390;">nil</span><span style="color: #002200;">&#93;</span>;
<span style="color: #002200;">&#125;</span></pre>
      </td>
    </tr>
  </table>
</div>
<p>As I said before, this method is almost identical with the only difference being, we are usingÂ **UIImagePickerControllerSourceTypePhotoLibraryÂ **to open up the photo albums.</p>
<p><strong>Build and Run</strong>Â and tap the â€œTake Photoâ€ button. Make sure you are testing on the device at this stage or nothing will happen since the simulator doesnâ€™t have a camera. Â You can however test the â€œAlbumsâ€ button assuming you have some photos in your photo library.</p>
<p>Now that you are able to pick a photo, you need to be able to access the photo that was selected or taken. Â To do this implement the following delegate method forÂ <strong>UIImagePickerController.</strong></p>
<div class="wp_syntax">
  <table>
    <tr>
      <td class="code">
        <pre class="objc" style="font-family:monospace;"><span style="color: #6e371a;">#pragma mark - image picker delegate</span>
&nbsp;
<span style="color: #002200;">-</span> <span style="color: #002200;">&#40;</span><span style="color: #a61390;">void</span><span style="color: #002200;">&#41;</span> imagePickerController<span style="color: #002200;">:</span><span style="color: #002200;">&#40;</span>UIImagePickerController <span style="color: #002200;">*</span><span style="color: #002200;">&#41;</span>picker didFinishPickingMediaWithInfo<span style="color: #002200;">:</span><span style="color: #002200;">&#40;</span><span style="color: #400080;">NSDictionary</span> <span style="color: #002200;">*</span><span style="color: #002200;">&#41;</span>info
<span style="color: #002200;">&#123;</span>
    UIImage <span style="color: #002200;">*</span>image <span style="color: #002200;">=</span> <span style="color: #002200;">&#40;</span>UIImage <span style="color: #002200;">*</span><span style="color: #002200;">&#41;</span> <span style="color: #002200;">&#91;</span>info objectForKey<span style="color: #002200;">:</span>
                                          UIImagePickerControllerOriginalImage<span style="color: #002200;">&#93;</span>;    
    <span style="color: #002200;">&#91;</span>self dismissViewControllerAnimated<span style="color: #002200;">:</span><span style="color: #a61390;">YES</span> completion<span style="color: #002200;">:^</span><span style="color: #002200;">&#123;</span>
        <span style="color: #11740a; font-style: italic;">// Do something with the image</span>
    <span style="color: #002200;">&#125;</span><span style="color: #002200;">&#93;</span>;
<span style="color: #002200;">&#125;</span></pre>
      </td>
    </tr>
  </table>
</div>
<p>This method fetches the selected (or taken) image and stores. It then dismisses the camera or photo albums allowing you to do whatever is needed with the image.</p>
<h3 id="5-next-steps">5. Next Steps</h3>
<p>By now, you should have learned how to use theÂ **ALAssetsÂ **library to interact with a userâ€™s photos and use them to build a custom interface. You also learned how to use aÂ <strong>UICollectionView</strong>Â to display a grid of photos.</p>
<p>With this knowledge in hand, you should now be able to make much more interesting photo selection interfaces than the default one Apple has to offer. Â Other apps like Google+ and Instagram both have very slick photo pickers and I hope this tutorial has your gears going thinking about other interesting photo selection interfaces.</p>
<p>You can download the source from this tutorial onÂ <a href="https://github.com/brandontreb/OverPicker">GitHub</a></p>
<p>Feel free to leave a comment if you have any questions. Happy Hacking!</p>
<p>Â </p>
<div style="">
  <a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-text="iPhone Programming Tutorial: Creating An Image Gallery Like Over - Part 2" data-url="http://brandontreb.com/iphone-programming-tutorial-creating-an-image-gallery-like-over-part-2"  data-via="brandontreb" data-related="brandontreb:">Tweet</a>
</div>
      
  </section>

  
  <section id="conversations"></section>

  
  


<span id="post-meta" class="clearfix p-author h-card">
  
  <a rel="me" class="p-name u-url" href="https://brandon_swoop.ngrok.io">
    |Zero Cool|
  </a>       
  
  
  <img class="u-photo" src="https://brandon_swoop.ngrok.io/avatar.png" width="96" height="96">          
  
  
  <p class="p-note">ğŸ’» Software 
ğŸ• Outdoors 
ğŸ  Family 
ğŸƒâ€â™‚ï¸ Fitness</p>
    
  </a>
</section>
    
</article>

  </section>
  <footer id="footer">

<section id="wrapper">
  <ul>
    <li><a href="/feed.xml">RSS</a></li>
    <li><a href="/feed.json">JSON Feed</a></li>
    <li><a href="/surprise-me/">Surprise me!</a></li>
        
    
    
    
    
    
    
        

  </ul>
  <form method="get" id="search" action="https://duckduckgo.com/">
    <input type="hidden" name="sites" value="https://brandon_swoop.ngrok.io/"/>
    <input type="hidden" name="k8" value="#444444"/>
    <input type="hidden" name="k9" value="#ee4792"/>
    <input type="hidden" name="kt" value="h"/>
    <input class="field" type="text" name="q" maxlength="255" placeholder="To search, type and hit Enterâ€¦"/>
    <input type="submit" value="Search" style="display: none;" />
  </form>
</section>

</footer>
  
		
</body>
</html>
