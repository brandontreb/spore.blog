<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta content="|Zero Cool|" name="author">

  <title>Brandon Trebitowski
		- My Journey To Create The inPulseNotifier For Jailbroken iPhones &amp;#8211; Part 1</title>

  <link href="/assets/css/style.css?1" rel="stylesheet">
  <link href="/assets/css/highlight.css?1" rel="stylesheet">
  <link href="/assets/css/alpine.css?1" rel="stylesheet">
  <style>

.site-title {
	display: inline-block;
	font-size: 14px;
	font-weight: 500;
	line-height: 1.35;
	padding-left: 5px;
	margin-top: 0px;
	margin-bottom: 5px;
	padding-top: 5px;
	padding-bottom: 10px;
}

nav.main-nav a.cta {
	background: #ffffff;
	color: #f29c38;
	padding: 6px 14px;
	border: 2px solid #f29c38;
	border-radius: 20px;
	white-space: nowrap;
	box-shadow: none;
}

nav.main-nav a.cta:hover {
	background: #fffee4;
	color: #f29c38;
	margin-left: 12px;
}

</style>

  <link rel="stylesheet" href="/custom.css?1">

	<link rel="shortcut icon" href="https://brandontreb.ngrok.io/favicon.png" type="image/x-icon" />
    
    
      <link href="https://brandontreb.ngrok.io/podcast.xml" rel="alternate" type="application/rss+xml" title="Podcast" />
      <link rel="alternate" type="application/json" title="Brandon Trebitowski" href="https://brandontreb.ngrok.io/feed.json" />
      <link rel="EditURI" type="application/rsd+xml" href="https://brandontreb.ngrok.io/rsd.xml" />
    

	
	<link rel="me" href="https://micro.blog/brandontreb" />
		
	
	<link rel="me" href="https://twitter.com/brandontreb" />
	
	
	<link rel="me" href="https://github.com/brandontreb" />
	
	
	
	<link rel="authorization_endpoint" href="https://indieauth.com/auth" />
	
	
	<link rel="token_endpoint" href="https://tokens.indieauth.com/token" />
	
	
	<link rel="micropub" href="https://brandontreb.ngrok.io/micropub" />
	
	
	<link rel="microsub" href="https://micro.blog/microsub/" />
	
	
	<link rel="webmention" href="https://webmention.io/brandontreb.ngrok.io/webmention" />
	
	
    
    
	
	
		<script id="script_conversation" data-webmention_url="https://webmention.io/brandontreb.ngrok.io/webmention" src="/conversation.js"></script>
	
</head>

<body>
  <nav class="main-nav">

	<div class="site-title">
		<img src="https://brandontreb.ngrok.io/avatar.gif" width="25" height="25" class="site-image">		
		<a href="/">Brandon Trebitowski</a>
	</div>

	<div class="site-menus">

	

	<a class="normal" href="/"> <span class="arrow">‚Üê</span> Home</a>

	

	
		<a href="/archive/">Archive</a>
	
		<a href="/photos/">Photos</a>
	
		<a href="/replies/">Replies</a>
	
		<a href="/books">Books</a>
	
		<a href="https://pixegon.com">Hire Me</a>
	

	

	</div>
</nav>



  <section id="wrapper"  >
	
<article class="h-entry post">
  <header>
	
    <h1 class="p-name">My Journey To Create The inPulseNotifier For Jailbroken iPhones &amp;#8211; Part 1</h1>
    
    <h2 class="headline">
      <time class="dt-published" datetime="2011-04-12 00:00:00 &#43;0000">
        <a class="u-url dates" href="https://brandontreb.ngrok.io/2011/04/12/my-journey-to-create-the-inpulsenotifier-for-jailbroken-iphones-part-1/">Apr 12, 2011</a>
      </time>
    </h2>
  </header>
  <section class="e-content post-body">
      <p>Many of you may have seen my tweets or blog posts regarding my development of a native iOS interface for the <a href="http://getinpulse.com">inPulse Watch</a>. I just wanted to share a bit with you about the development process and talk about my updates moving forward.</p>
<h4 id="what-is-the-inpulse-watch">What is the inPulse Watch?</h4>
<p>For those of you who don‚Äôt know, the inPulse watch is a programmable wristwatch with a bluetooth controller. It can run a single app at a time on top of it‚Äôs firmware that is installed on the watch via a bluetooth interface with your computer. People have written all sorts of apps from analog clocks to roguelikes and Connway‚Äôs Game of Life. Check out <a href="http://inpulsewatch.com/watchapps.asp">http://inpulsewatch.com/watchapps.asp</a> to see the latest apps.</p>
<center>
  <br /> <img src="http://ec2-50-16-103-63.compute-1.amazonaws.com/images/inPulse.png" style="float:left;margin:25px;" width="100" /><br /> <img src="http://inpulsewatch.com/apps/logo14.JPG" style="float:left;margin:25px;" width="100" /><br /> <img src="http://inpulsewatch.com/apps/logo12.jpg" style="float:left;margin:25px;" width="100" /><br />
</center>
<div style="clear:both">
  &#038;nbsp
</div></p> 
<h4 id="it-begins">It Begins</h4>
<p>After waiting about 10 days for my watch (yeah it‚Äôs a long waiting period since they have seen quite a bit of recent success), it finally came in the mail. Enthusiastically, I opened it up and followed their <a href="http://www.getinpulse.com/guide/">getting started guide</a>. Within a few minutes I was running some of the sample applications in the forums.</p>
<h4 id="no-ios-support">No iOS Support?</h4>
<p>One of the coolest features of the watch is the ability to have your smartphone notifications show up on it. You are able to read SMS, Email, Calendar, etc‚Ä¶ for a wide variety of Blackberry and Android phones.</p>
<p>After digging around a bit, I was disappointed to see that there was limited (no) iPhone support. They had some old file that used BTStack at some point to communicate a simple canned message to the iPhone. No documentation, no support, nada.</p>
<h4 id="building-the-app">Building The App</h4>
<img src="http://code.google.com/p/btstack/logo?cct=1278342571" style="float:left;margin:5px;" />
<p>As I had no experience developing for a jailbroken iPhone, I had no idea how to even compile this sample app. So, I used the Google machine and found the <a href="http://code.google.com/p/btstack/">Google repository</a> for BTStack (the bluetooth library of choice for jailbroken iOS apps). I was able to download the source and build a sample application that basically connected my iPhone to a bluetooth device.</p>
<p>Well, this got me started. So I did what any curious developer would do and started plugging crap in. I replaced the sample file that was packaged with BTStack with a slightly modified version of inPulse‚Äôs sample iPhone file. Sure enough, I was able to build and install it.</p>
<h4 id="we-have-connection">We Have Connection</h4>
<p>After figuring out how to hardcode my watch‚Äôs address into the source, I was able to determine that the iPhone had actually connected to the watch. I monitored the packets and threw up an alert view (No NSLogging available at this point) when a connection was made.</p>
<p>So, now that we are connected, let‚Äôs trying sending the sample message‚Ä¶fail! I couldn‚Äôt even send the time.</p>
<p>At this point, I decided to move the code I had written into a sample iPhone project so that I could do attached debugging. This showed me that the packets were arriving on the watch since I received an ack packet back. So, the watch sees the messages, but doesn‚Äôt consider them notifications.</p>
<h4 id="time-to-hit-the-docs">Time to hit the docs</h4>
<img src="/img/post_images/2011/04/pulse_protocol.png" style="float:right" />  
Knowing that the packets were received gave me quite a bit of hope. I figured that I must have had the protocol incorrect. So, I dug into the inPulse protocol document which outlined what the packet structures should look like. My C skills aren&#8217;t the strongest so I had to look up quite a few things.
<p>Sure enough, they had upped the version number of their protocol by 1 and mine was outdated. So, I updated what I could and gave it another shot‚Ä¶fail.</p>
<p>No messages were displaying. At this point I was ready to give up. I read online somewhere that the BT implementation on the watch was not supported by inPulse and felt dead in the water. So I took a break for a couple days.</p>
<p>When I came back to it, I was tapping through my watch and noticed that the calendar appointments had some data in them on the watch. Could it be? Did my notifications arrive? (I was trying to send SMS notifications). So I dug into the docs again‚Ä¶</p>
<h4 id="we-have-a-message">We have a message!!!</h4>
<img src="/img/post_images/2011/04/hello_world.jpg" style="float:left;margin:10px;" width="200" />
<p>Sure enough, I had some fields declared as * uint16_t * when they should have been * uint8_t * . My headers were the wrong size!!! All of a sudden I was able to send every type of notification to the watch and have it displayed.</p>
<p>It was now time to build out an actual application for release to inPulse. The next hurdle would be hooking into the iPhone‚Äôs messaging system and forwarding along the messages. Now the real iPhone hacking begins.</p>
<p><a href="/my-journey-to-create-the-inpulsenotifier-for-jailbroken-iphones-part-2">This post is continued here</a></p>
<div style="">
  <a href="http://twitter.com/share" class="twitter-share-button" data-count="horizontal" data-text="My Journey To Create The inPulseNotifier For Jailbroken iPhones - Part 1" data-url="http://brandontreb.com/my-journey-to-create-the-inpulsenotifier-for-jailbroken-iphones-part-1"  data-via="brandontreb" data-related="brandontreb:">Tweet</a>
</div>
      
  </section>

  
  <section id="conversations"></section>

  
  


<span id="post-meta" class="clearfix p-author h-card">
  
  <a rel="me" class="p-name u-url" href="https://brandontreb.ngrok.io">
    |Zero Cool|
  </a>       
  
  
  <img class="u-photo" src="https://brandontreb.ngrok.io/avatar.gif" width="96" height="96">          
  
  
  <p class="p-note">üíª Software
üèï Outdoors
üè† Family
üèÉ‚Äç‚ôÇÔ∏è Fitness</p>
    
  </a>
</section>
    
</article>

  </section>
  <footer id="footer">

<section id="wrapper">
  <ul>
    <li><a href="/feed.xml">RSS</a></li>
    <li><a href="/feed.json">JSON Feed</a></li>
    <li><a href="/surprise-me/">Surprise me!</a></li>
        
    
    
    
    
    
    
        

  </ul>
  <form method="get" id="search" action="https://duckduckgo.com/">
    <input type="hidden" name="sites" value="https://brandontreb.ngrok.io/"/>
    <input type="hidden" name="k8" value="#444444"/>
    <input type="hidden" name="k9" value="#ee4792"/>
    <input type="hidden" name="kt" value="h"/>
    <input class="field" type="text" name="q" maxlength="255" placeholder="To search, type and hit Enter‚Ä¶"/>
    <input type="submit" value="Search" style="display: none;" />
  </form>
</section>

</footer>
  
		
</body>
</html>
